<app-header></app-header><app-panels><app-panel [(active)]=uiMgr.tocPanelActive icon=subject paneltitle="Table of contents" [ngclass]=themeClasses i18n-paneltitle=@@panel-toc><app-tabs class=theme-text><app-tab label="Layer List" i18n-label=@@panel-toc-layerlist><div #layerlistdiv class=theme-text></div></app-tab><app-tab label=Legend i18n-label=@@panel-toc-legend><div #legenddiv class=theme-text></div></app-tab><app-tab label=Opacity i18n-label=@@panel-toc-opacity id=toc-opacity-tab><section *ngfor="let layer of mapService.VisibleLayers"><label [ngclass]="['layer-opacity-title']">{{layer.title}}</label><input type=range [(ngmodel)]=layer.opacity min=0 max=1 step=0.05></section></app-tab></app-tabs></app-panel><app-panel [(active)]=uiMgr.basemapPanelActive icon=dashboard paneltitle="Basemap Select" [ngclass]=themeClasses i18n-paneltitle=@@panel-basemap><select [(ngmodel)]=mapService.BasemapId [ngclass]="[appCfg.BgClass, appCfg.TxtClass]"><option data-vector=streets-vector value=streets i18n=@@basemap-streets>Streets</option><option data-vector=satellite value=satellite i18n=@@basemap-satellite>Satellite</option><option data-vector=topo-vector value=topo i18n=@@basemap-topographic>Topographic</option><option data-vector=gray-vector value=gray i18n=@@basemap-gray>Gray</option><option data-vector=dark-gray-vector value=dark-gray i18n=@@basemap-dark-gray>Dark Gray</option><option data-vector=osm value=osm>Open Street Map</option></select></app-panel><app-panel [(active)]=uiMgr.settingsPanelActive icon=wb_sunny paneltitle=Shadows [ngclass]=themeClasses i18n-paneltitle=@@panel-settings><label [ngclass]="['panel-settings-label']" i18n=@@month-in-year>Month in year ({{uiMgr.vSrvc.Month + 1}})</label><input type=range [(ngmodel)]=uiMgr.vSrvc.Month min=0 max=11 step=1> <label [ngclass]="['panel-settings-label']" i18n=@@time-of-day>Time of day ({{uiMgr.vSrvc.Hour}})</label><input type=range [(ngmodel)]=uiMgr.vSrvc.Hour min=0 max=23 step=1><div [ngclass]="['shadow-toggles-container']"><button-toggle [ngclass]=[themeClasses] [active]=uiMgr.vSrvc.View.environment.lighting.directShadowsEnabled (click)="uiMgr.vSrvc.View.environment.lighting.directShadowsEnabled=!uiMgr.vSrvc.View.environment.lighting.directShadowsEnabled" i18n=@@shadows>Shadows</button-toggle><button-toggle [ngclass]=[themeClasses] [active]=uiMgr.vSrvc.View.environment.lighting.ambientOcclusionEnabled (click)="uiMgr.vSrvc.View.environment.lighting.ambientOcclusionEnabled=!uiMgr.vSrvc.View.environment.lighting.ambientOcclusionEnabled" i18n=@@ambient-occulsion>Ambient Occulsion</button-toggle></div></app-panel></app-panels><app-tool-output class="theme-bg theme-text" *ngif=toolMgr.ActiveTool><div id=toolbar-card><table><tr><td [attr.colspan]=toolMgr.ActiveTool.AvailableModes.length><i title=Meaasure class="output-icon icon-measure material-icons" style="font-family: 'mfg_labs_iconsetregular';" *ngif="toolMgr.ActiveTool == toolMgr.MeasureTool"></i> <i title=Draw class="output-icon icon-pen material-icons" style="font-family: 'mfg_labs_iconsetregular';" *ngif="toolMgr.ActiveTool == toolMgr.DrawTool"></i> <i title=Select class="output-icon material-icons" *ngif="toolMgr.ActiveTool == toolMgr.SelectTool">album</i></td></tr><tr><td *ngfor="let mode of toolMgr.ActiveTool.AvailableModes"><button-toggle class=theme-bg [title]=removeHtmlComments(altValue.innerHTML) [active]="toolMgr.ActiveTool.CurActiveMode==mode" (click)="toolMgr.ActiveTool.CurActiveMode=mode"><div hidden><span #altvalue i18n=@@output-tool-modes>{ mode, select, Point {Point} Line {Line} Polygon {Polygon} Multiple {Multiple} Single {Single} }</span></div><i class=output-icon [ngclass]="{'esri-icon-map-pin': mode == ToolMode.Point || ToolMode.Multiple,'esri-icon-polyline': mode==ToolMode.Line, 'esri-icon-polygon': mode==ToolMode.Polygon}"></i></button-toggle></td></tr><tr><td [attr.colspan]=toolMgr.ActiveTool.AvailableModes.length><button-toggle class=theme-bg [attr.title]=" toolMgr.ActiveTool.Hidden ? 'Show' : 'Hide' " [active]=toolMgr.ActiveTool.Hidden (click)="toolMgr.ActiveTool.Hidden=!toolMgr.ActiveTool.Hidden"><i class=output-icon [ngclass]="toolMgr.ActiveTool.Hidden ? 'esri-icon-non-visible' : 'esri-icon-visible' "></i></button-toggle></td></tr><tr><td [attr.colspan]=toolMgr.ActiveTool.AvailableModes.length><button class=theme-bg title=Clear (click)=toolMgr.ActiveTool.clear()><i class="output-icon esri-icon-close"></i></button></td></tr></table></div><ng-container *ngif="toolMgr.ActiveTool == toolMgr.MeasureTool"><ng-container *ngif="toolMgr.ActiveTool.CurActiveMode == ToolMode.Line"><div id=measure-line-fixed-card style=display:flex;><table style=min-width:30px;><tr><td><p> </p></td></tr><tr><th><div class="zoom-to-line-btn esri-icon-zoom-out-fixed" (click)=viewService.goToPolyline(toolMgr.MeasureTool.LastLine.Extent) *ngif=toolMgr.MeasureTool.LastLine></div></th></tr><tr><td><div class="remove-line-btn esri-icon-close" (click)=toolMgr.MeasureTool.LastLine.removeFromGraphicsLayer() *ngif=toolMgr.MeasureTool.LastLine></div></td></tr><tr><td><p> </p></td></tr></table><table class=theme-bg><tr><th colspan=2 class=theme-bg><p>Σ</p></th></tr><tr><td class=theme-bg><p>D</p></td><td class=content-color><p>{{toolMgr.MeasureTool.LastLine ? (toolMgr.MeasureTool.LastLine.TotalLength.Distance3d | number:'1.0-2') : 0 }} m</p></td></tr><tr><td class=theme-bg><p>d</p></td><td class=content-color><p>{{toolMgr.MeasureTool.LastLine ? (toolMgr.MeasureTool.LastLine.TotalLength.Distance2d | number:'1.0-2') : 0 }} m</p></td></tr><tr><td class=theme-bg><p>Δh</p></td><td class=content-color><p>{{toolMgr.MeasureTool.LastLine ? (toolMgr.MeasureTool.LastLine.TotalLength.HeightDiff | number:'1.0-2') : 0 }} m</p></td></tr></table></div><div class=cards *ngif=toolMgr.MeasureTool.LastLine><table class="card theme-bg point-coords-card" *ngfor="let dataItem of toolMgr.MeasureTool.LastLine.DataReverse" style="margin-right: 1px !important;"><ng-container *ngif=isPoint(dataItem)><tr><th colspan=1 class=theme-bg><p>{{dataItem.Label}}</p></th><th colspan=1 class=theme-bg><div class=no-select><div class=fill-remaining-space></div><div class="go-to-point-extent-btn esri-icon-zoom-in-fixed" (click)="viewService.goToPoint(dataItem.Longitude, dataItem.Latitude)"></div></div></th></tr><tr class=content-color><td class=theme-bg><p>X</p></td><td><p>{{((dataItem.ProjectedMapPoint | async) ? (dataItem.ProjectedMapPoint | async).x : 0) | number:'1.0-2'}}</p></td></tr><tr class=content-color><td class=theme-bg><p>Y</p></td><td><p>{{((dataItem.ProjectedMapPoint | async) ? (dataItem.ProjectedMapPoint | async).y : 0) | number:'1.0-2'}}</p></td></tr><tr class=content-color><td class=theme-bg><p>Z</p></td><td><p>{{((dataItem.ProjectedMapPoint | async) ? (dataItem.ProjectedMapPoint | async).z : 0) | number:'1.0-2'}}</p></td></tr></ng-container><ng-container *ngif=!isPoint(dataItem)><tr><th colspan=2 class=theme-bg><p> </p></th></tr><tr class=content-color><td class=theme-bg><p>D</p></td><td><p>{{dataItem.Distance3d | number:'1.0-2'}} m</p></td></tr><tr class=content-color><td class=theme-bg><p>d</p></td><td><p>{{dataItem.Distance2d | number:'1.0-2'}} m</p></td></tr><tr class=content-color><td class=theme-bg><p>Δh</p></td><td><p>{{dataItem.HeightDiff | number:'1.0-2'}} m</p></td></tr></ng-container></table></div></ng-container><ng-container *ngif="toolMgr.ActiveTool.CurActiveMode == ToolMode.Point"><div class=cards><ng-container *ngfor="let point of toolMgr.ActiveTool.PointModeOutputReverse"><table class="card theme-bg point-coords-card"><tr><th colspan=1 class=theme-bg><p>{{point.Label}}</p></th><th colspan=1 class=theme-bg><div class=no-select><div class=fill-remaining-space></div><div class="go-to-point-extent-btn esri-icon-zoom-in-fixed" (click)="viewService.goToPoint(point.Longitude, point.Latitude)"></div><div class="remove-point-btn esri-icon-close" (click)=point.removeFromGraphicsLayer()></div></div></th></tr><tr class=content-color><td class=theme-bg><p>X</p></td><td><p>{{ ((point.ProjectedMapPoint | async) ? (point.ProjectedMapPoint | async).x : 0) | number:'1.0-2' }}</p></td></tr><tr class=content-color><td class=theme-bg><p>Y</p></td><td><p>{{ ((point.ProjectedMapPoint | async) ? (point.ProjectedMapPoint | async).y : 0) | number:'1.0-2' }}</p></td></tr><tr class=content-color><td class=theme-bg><p>Z</p></td><td><p>{{ ((point.ProjectedMapPoint | async) ? (point.ProjectedMapPoint | async).z : 0) | number:'1.0-2' }}</p></td></tr></table><div class=fields-container><table class="card theme-bg card-fields"><tr *ngfor="let entry of point.PropsArray"><td class=theme-bg><p>{{ entry[0] }}</p></td><td class=content-color><p>{{ entry[1] }}</p></td></tr></table></div></ng-container></div></ng-container></ng-container><ng-container *ngif="toolMgr.ActiveTool == toolMgr.SelectTool"><div id=select-fixed-card *ngif="toolMgr.SelectTool.PropertiesForOperations.length > 0"><table class=theme-bg><tr><th colspan=2><p i18n=@@output-analysis>Analysis</p></th></tr><tr><td colspan=2 class=theme-bg><select placeholder=Mode [(ngmodel)]=toolMgr.SelectTool.SelectedProperty class="theme-bg theme-text" [disabled]="toolMgr.SelectTool.PropertiesForOperations.length == 1"><option value="" disabled selected i18n=@@analysis-property-placeholder>Select property</option><option *ngfor="let property of toolMgr.SelectTool.PropertiesForOperationsWLabels" [value]=property[0]>{{ property[1] }}</option></select></td></tr><tr><td colspan=2><select placeholder=Mode [(ngmodel)]=toolMgr.SelectTool.ActiveMathFunc class="theme-bg theme-text" [disabled]="toolMgr.SelectTool.MathFunctions.length == 1"><option *ngfor="let mathFunc of toolMgr.SelectTool.MathFunctions" [value]=mathFunc>{{ mathFunc }}</option></select></td></tr><tr><td colspan=2 class=content-color><p>{{ toolMgr.SelectTool.Result | number:'1.0-2' }}</p></td></tr></table></div><div class=cards *ngif=toolMgr.SelectTool.Output><ng-container *ngfor="let graphicWithHighlight of toolMgr.SelectTool.Output"><div class="card fields-container"><table class="card theme-bg card-fields"><tr *ngfor="let entry of graphicWithHighlight.FieldsArray"><td class=theme-bg><p>{{ entry[0] }}</p></td><td class=content-color><p>{{ entry[1] }}</p></td></tr></table></div></ng-container></div></ng-container></app-tool-output><modal modaltitle="O projektu" [(active)]=uiMgr.infoModalActive *ngif=uiMgr.infoModalActive class=theme-text><main class=content-color [innerhtml]=appCfg.AboutModalContent></main></modal><modal modaltitle=Pomoć [(active)]=uiMgr.helpModalActive *ngif=uiMgr.helpModalActive class=theme-text><main class=content-color [innerhtml]=appCfg.HelpModalContent></main></modal><modal modaltitle=Dobrodošli! [(active)]=uiMgr.welcomeModalActive *ngif=uiMgr.welcomeModalActive class=theme-text><main class=content-color [innerhtml]=appCfg.WelcomeModalContent></main></modal>